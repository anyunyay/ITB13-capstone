/* Theme utilities to ensure clean theme switching */

/* Force theme classes to be applied cleanly */
html[data-theme="light"] {
  color-scheme: light;
}

html[data-theme="dark"] {
  color-scheme: dark;
}

/* Ensure smooth transitions for theme changes */
html {
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* Remove any lingering theme-specific styles */
html.light,
html.dark,
html.system {
  /* Reset any theme-specific properties */
  --theme-bg: initial;
  --theme-text: initial;
  --theme-border: initial;
}

/* Force re-render on theme change */
html[data-theme-change] {
  /* This will trigger a re-render when the attribute changes */
  contain: layout style;
}

/* Ensure proper contrast in both themes */
.light {
  --tw-bg-opacity: 1;
  --tw-text-opacity: 1;
}

.dark {
  --tw-bg-opacity: 1;
  --tw-text-opacity: 1;
}

/* Clean up any potential theme remnants */
* {
  /* Reset any theme-specific custom properties */
  --theme-remnant: unset;
}

/* Ensure components re-render properly */
[data-theme-change] * {
  /* Force a repaint */
  will-change: auto;
}
